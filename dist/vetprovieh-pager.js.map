{"version":3,"file":"vetprovieh-pager.js","sources":["../node_modules/@tomuench/vetprovieh-shared/lib/helpers/object-helper.ts","../node_modules/@tomuench/vetprovieh-shared/lib/helpers/view-helper.ts","../node_modules/@tomuench/vetprovieh-shared/lib/core/vetprovieh-element.ts","../node_modules/@tomuench/vetprovieh-shared/lib/core/vetprovieh-repeat.ts","../node_modules/@tomuench/vetprovieh-shared/lib/decorators/web-component.ts","../lib/vetprovieh-pager.ts"],"sourcesContent":["import {Indexable} from '../interfaces/indexable';\n\n/**\n * Helper to get and set Attributes on Objects\n */\nexport class ObjectHelper {\n  /**\n   * Checking if the Element is an Object\n   * @param obj\n   */\n  static isObject(obj: any): boolean {\n    return obj != null && typeof (obj) === 'object';\n  }\n\n  /**\n     * Getting Value from JSON-Object\n     * @param {Indexable} object\n     * @param {string} key\n     * @return {any}\n     */\n  static get(object: Indexable, key: string) : any {\n    try {\n      const attributes: string[] = key.split('.');\n      return this._iterateThrough(object, attributes);\n    } catch (ex) {\n      return undefined;\n    }\n  }\n\n  /**\n     * Iterating Through Object\n     * @param {Indexable} obj\n     * @param {string[]} attributes\n     * @param {number} depth\n     * @return {any}\n     * @private\n     */\n  static _iterateThrough(obj: Indexable, attributes: string[], depth = 0): any {\n    if (depth < 0) return undefined;\n\n    while (attributes.length > depth) {\n      const attribute :string = attributes.shift() as string;\n      if (!obj) throw new Error('Unknown Key');\n      obj = obj[attribute];\n    }\n    return obj;\n  }\n\n  /**\n     * Setting value for Object\n     * @param {Indexable} object\n     * @param {string} key\n     * @param {any} value\n     */\n  static set(object: Indexable, key: string, value: any): void {\n    const attributes: string[] = key.split('.');\n    object = this._iterateThrough(object, attributes, 1);\n    const property = attributes[0];\n    object[property] = value;\n  }\n\n\n  /**\n     * Object to String\n     * @param {Object} obj\n     * @return {string}\n     */\n  static objectToStringDeep(obj: any) : string {\n    if (!obj) return '';\n\n    return Object.keys(obj).map((k: string) => {\n      const value: any = obj[k];\n      if (typeof (value) == 'object') {\n        return ObjectHelper.objectToStringDeep(value);\n      } else {\n        return value;\n      }\n    }).toString();\n  }\n}\n","import {ObjectHelper} from './object-helper';\nimport {Indexable} from '../interfaces/indexable';\n\n/**\n * Helpers for View\n */\nexport class ViewHelper {\n  /**\n     * Mark text yellow inside an element.\n     * @param {Node} element\n     * @param {string} input\n     */\n  static markElement(element: Node | ChildNode, input: string): void {\n    if (input != '') {\n      element.childNodes.forEach((n: Node) => {\n        const value: string = n.nodeValue || '';\n        if (n.nodeName === '#text' && value.indexOf(input) >= 0) {\n          (element as HTMLElement).innerHTML = (n as Indexable)['data']\n              .split(input)\n              .join('<mark>' + input + '</mark>');\n        } else {\n          ViewHelper.markElement(n, input);\n        }\n      });\n    }\n  }\n\n  /**\n   * Getting URL-Parameter from address\n   * @param {string} key\n   * @return {string}\n   */\n  static getParameter(key: string): string | null {\n    const urlString = window.location.href;\n    const url = new URL(urlString);\n    const value = url.searchParams.get(key);\n\n    return value;\n  }\n\n\n  /**\n     * Regex to fill keys in template\n     * @return {RegExp}\n     */\n  static get regexTemplate(): RegExp {\n    return /{{([a-zA-Z0-9\\.]+)}}/;\n  }\n\n  /**\n     * Replacing Placeholders in template from the loaded element\n     * @param {HTMLElement} template\n     * @param {Indexable} e\n     */\n  static replacePlaceholders(template: HTMLElement, e: Indexable): void {\n    let match = null;\n    while (match = template.innerHTML.match(ViewHelper.regexTemplate)) {\n      let value = ObjectHelper.get(e, match[1]);\n      value = value || '';\n      template.innerHTML = template.innerHTML.replace(match[0], value);\n    }\n  }\n}\n","import {Indexable} from '../interfaces';\n\n/**\n * BaseClass for view Elements\n */\nexport class VetproviehElement extends HTMLElement {\n  public get template() {\n    return '';\n  }\n\n\n  constructor(shadowed = true) {\n    super();\n\n    if (shadowed) {\n      this.attachShadow({\n        mode: 'open',\n      });\n    }\n    this.render();\n  }\n\n  /**\n     * Callback Implementation\n     * @param {string} name\n     * @param {any} old\n     * @param {any} value\n     */\n  attributeChangedCallback(name: string, old: any, value: any) {\n    if (old !== value) {\n      this.sendCallback(`_${name}_beforeSet`, value);\n      (this as Indexable)[name] = value;\n      this.sendCallback(`_${name}_afterSet`, value);\n      this.render();\n    }\n  }\n\n  /**\n   * Connected Callback\n   */\n  connectedCallback(){\n  }\n\n\n  private sendCallback(name: string, value: any) {\n    const method = (this as Indexable)[name] as Function;\n    if (method && typeof(method) === 'function') {\n      (this as Indexable)[name](value);\n    }\n  }\n\n  /**\n   * Loading HTML-Element From ShadowRoot\n   * @param {string} id\n   * @return {HTMLElement | undefined}\n   */\n  getByIdFromShadowRoot(id: string): HTMLElement | undefined {\n    if (this.shadowRoot) {\n      return this.shadowRoot.getElementById(id) as HTMLElement;\n    }\n  }\n\n  render() {\n    const renderedTemplate = eval('`' + this.template + '`') as string;\n    if (this.shadowRoot) {\n      this.shadowRoot.innerHTML = renderedTemplate;\n    } else {\n      this.innerHTML = renderedTemplate;\n    }\n  }\n\n  /**\n     * Hide Or Show Element\n     * @param {string} id\n     * @param {boolean} show\n     */\n  updateVisibility(id: string, show: boolean) {\n    const search = this.getByIdFromShadowRoot(id);\n    if (search) {\n      if (!show) {\n        search.classList.add('is-hidden');\n      } else {\n        search.classList.remove('is-hidden');\n      }\n    }\n  }\n\n\n  public set innerHTML(input: string) {\n    if (this.shadowRoot != null) {\n      this.shadowRoot.innerHTML = input;\n    } else {\n      super.innerHTML = input;\n    }\n  }\n\n\n  // -----------------\n  // CLASS METHODS\n  // -----------------\n\n  /**\n     * Getting Template\n     * @return {string}\n     */\n  static get template(): string {\n    return `<link href=\"/node_modules/bulma/css/bulma.min.css\" \n                  rel=\"stylesheet\" type=\"text/css\">`;\n  }\n}\n","import {VetproviehElement} from './vetprovieh-element';\nimport {Indexable} from '../interfaces';\nimport {ViewHelper} from '../helpers';\n\n/**\n * Repeats Template Element. Amount is set by the amount of objects\n * inside\n */\nexport class VetproviehRepeat extends VetproviehElement {\n  /**\n      * Getting View Template\n      * @return {string}\n      */\n  static get template() {\n    return VetproviehElement.template + `<div id=\"listElements\"></div>`;\n  }\n\n  /**\n       * Getting observed Attributes\n       * @return {string[]}\n       */\n  static get observedAttributes() {\n    return ['objects', 'orderBy'];\n  }\n\n    private _objects: Array<any> = [];\n    private _listTemplate: DocumentFragment;\n    private _orderBy = '+position';\n\n    /**\n     * Default-Contructor\n     * @param {HTMLTemplateElement} pListTemplate\n     */\n    constructor(pListTemplate: HTMLTemplateElement | undefined = undefined) {\n      super();\n\n      const listTemplate = pListTemplate || this.querySelector('template');\n      if (listTemplate) {\n        this._listTemplate = listTemplate.content;\n      } else {\n        this._listTemplate = new DocumentFragment();\n      }\n    }\n\n    /**\n     * Get objects\n     * @return {Array<any>}\n     */\n    public get objects(): Array<any> {\n      return this._objects;\n    }\n\n    /**\n     * Set objects\n     * @param {Array<any>} v\n     */\n    public set objects(v: Array<any>) {\n      if (this._objects != v) {\n        this._objects = v;\n        this.clearAndRender();\n      }\n    }\n\n    /**\n    * Get OrderBy\n    * Expect \"+position\" for asceding positon\n    * Expect \"-position\" for descending position\n    * @return {string}\n    */\n    public get orderBy(): string {\n      return this._orderBy;\n    }\n\n    /**\n     * Set OrderBy\n     * @param {string} v\n     */\n    public set orderBy(v: string) {\n      if (this._orderBy != v) {\n        this._orderBy = v;\n        this.clearAndRender();\n      }\n    }\n\n    /**\n    * Connected Callback\n    */\n    connectedCallback() {\n      this._initalizeShadowRoot(VetproviehRepeat.template);\n      this.renderList();\n    }\n\n    /**\n     * Clear and Render\n     */\n    clearAndRender() {\n      this.clear();\n      this._sortObjects();\n      this.renderList();\n    }\n\n    /**\n     * Sorting Objects\n     */\n    private _sortObjects() {\n      try {\n        const asc = this.orderBy.substring(0, 1) == '+' ? 1 : -1;\n        const argument = this.orderBy.substring(1);\n        this.objects = this.objects\n            .sort((a: any, b: any) => {\n              const aValue = a[argument];\n              const bValue = b[argument];\n              return (aValue - bValue) * asc;\n            });\n      } catch (e) {\n\n      }\n    }\n\n    /**\n     * List will be cleared\n     */\n    clear() {\n      const list = this.list;\n      if (list) list.innerHTML = '';\n    }\n\n    /**\n     * Rendering List-Content\n     */\n    renderList() {\n      this.objects\n          .forEach((obj: any, index: number) => {\n            this._attachToList(obj, index);\n          });\n    }\n\n    /**\n     * Inserts Element to List\n     * @param {any} dataItem\n     * @param {index} number\n     * @private\n     */\n    protected _attachToList(dataItem: any, index = 0) {\n      if (this.shadowRoot) {\n        const newListItem: HTMLElement = this._generateListItem(dataItem);\n        dataItem['index'] = index;\n        ViewHelper.replacePlaceholders(newListItem, dataItem);\n\n        const list = this.list;\n        if (list) {\n          list.appendChild(newListItem.children[0]);\n        }\n      }\n    }\n\n\n    /**\n     * Getting List Element\n     * @return {HTMLElement | undefined}\n     */\n    protected get list(): HTMLElement | undefined {\n      if (this.shadowRoot) {\n        return this.shadowRoot.getElementById('listElements') as HTMLElement;\n      } else {\n        return undefined;\n      }\n    }\n\n    /**\n    * Generate new Item for List which is based on the template\n    * @param {any} dataItem\n    * @param {boolean} activatedEventListener\n    * @return {HTMLDivElement}\n    * @private\n    */\n    protected _generateListItem(dataItem: any, activatedEventListener = false) {\n      const newNode = document.importNode(this._listTemplate, true);\n      const div = document.createElement('div');\n\n      if (activatedEventListener) {\n        div.addEventListener('click', () => {\n          const selectedEvent = new Event('selected');\n          (selectedEvent as Indexable)['data'] = dataItem;\n          this.dispatchEvent(selectedEvent);\n        });\n      }\n\n      div.appendChild(newNode);\n      return div;\n    }\n\n    /**\n     * Intializing Shadow-Root\n     * @param {string} template\n     * @protected\n     */\n    protected _initalizeShadowRoot(template: string) {\n      // Lazy creation of shadowRoot.\n      if (!this.shadowRoot) {\n        super.attachShadow({\n          mode: 'open',\n        }).innerHTML = template;\n      }\n    }\n}\n\nif (!customElements.get('vp-repeat')) {\n  customElements.define('vp-repeat', VetproviehRepeat);\n}\n","\ninterface IWebComponentArgs {\n  template: string | undefined;\n  tag: string;\n}\n\nexport function WebComponent(webComponentArgs: IWebComponentArgs) {\n  /**\n     * Defining Tag for HTML-Component\n     * @param {any} constructor\n     * @param {string} tagName\n     */\n  const defineTag = (constructor: any, tagName: string) => {\n    if (!customElements.get(tagName)) {\n      customElements.define(tagName, constructor);\n    }\n  };\n\n  return function <T extends { new(...constructorArgs: any[]): void }>(constructorFunction: T) {\n    /**\n         * Building Wrapper Function for new Constructor\n         * @param args\n         */\n    const newConstructorFunction: any = function (...args: any[]) {\n\n      const func: any = function () {\n        return new constructorFunction(...args);\n      };\n      func.prototype = constructorFunction.prototype;\n\n      const result: any = new func();\n      return result;\n    };\n    newConstructorFunction.prototype = constructorFunction.prototype;\n\n    if (webComponentArgs.template) {\n      Object.defineProperty(newConstructorFunction.prototype, 'template',\n        {\n          get: (): string => webComponentArgs.template || \"\",\n        });\n    }\n    defineTag(constructorFunction, webComponentArgs.tag);\n    return newConstructorFunction;\n  };\n}\n","import {VetproviehElement, WebComponent} from '@tomuench/vetprovieh-shared/lib/index';\n\n/**\n * Paging Class\n */\n@WebComponent({\n  template: VetproviehElement.template + `\n  <style>\n    :host {\n      display: block;\n    }\n  </style>\n  <nav class=\"pagination is-centered is-small\" role=\"navigation\" \n       aria-label=\"pagination\">\n    <ul id=\"pager\" class=\"pagination-list\">\n    </ul>\n  </nav>`,\n  tag: 'vetprovieh-pager'\n})\nexport class VetproviehPager extends VetproviehElement {\n    private _page = 1;\n    private _maximum = 1;\n\n    /**\n     * Observed Attributes\n     * @return {Array<string>}\n     */\n    static get observedAttributes() {\n      return ['page', 'maximum'];\n    }\n\n    static hello(): string {\n      return \"HELLO\";\n    }\n    \n\n    /**\n     * Page Getter\n     * @property {number|null} page\n     */\n    get page() {\n      return this._page;\n    }\n\n    /**\n     * Setting page\n     * @param {number} val\n     */\n    set page(val: number) {\n      if (typeof(val) === 'string') val = parseInt(val);\n      if (val !== this.page && val <= this.maximum && val > 0) {\n        this._page = val;\n        this.render();\n      }\n    }\n\n\n    /**\n     * @property {number|null} maximum\n     */\n    get maximum() {\n      return this._maximum;\n    }\n\n    /**\n     * Setting Maximum\n     * @param {number} val\n     */\n    set maximum(val: number) {\n      if (val !== this.maximum && val !== undefined) {\n        this._maximum = val;\n        this.render();\n      }\n    }\n\n    /**\n     * Render Pages for Pager\n     * @private\n     */\n    renderPages() {\n      const pager = this.getByIdFromShadowRoot('pager') as HTMLElement;\n      pager.appendChild(this.renderPage(1));\n      this._addBlankPage(pager, this.page > 3);\n\n      for (let i = -1; i < 2; i++) {\n        const toDisplayPage = this.page + i;\n        if (toDisplayPage > 1 && toDisplayPage < this.maximum) {\n          pager.appendChild(this.renderPage(toDisplayPage));\n        }\n      }\n\n      this._addBlankPage(pager, this.page < this.maximum - 2);\n      if (this.maximum != 1 && this.maximum) {\n        pager.appendChild(this.renderPage(this.maximum));\n      }\n    }\n\n    /**\n     * render Page placeholder\n     * @param {HTMLElement} pager\n     * @param {boolean} show\n     * @private\n     */\n    _addBlankPage(pager: HTMLElement, show: boolean) {\n      if (show) {\n        const li = document.createElement('li');\n        const span = document.createElement('span');\n        span.classList.add('pagination-ellipsis');\n        span.innerHTML = '&hellip;';\n        li.appendChild(span);\n        pager.appendChild(li);\n      }\n    }\n\n    /**\n     * Render Single page Button\n     * @param {number} page\n     * @return {HTMLLIElement} Element\n     * @private\n     */\n    renderPage(page: number): HTMLLIElement {\n      const li = document.createElement('li');\n      const a = document.createElement('a');\n      a.classList.add('pagination-link');\n      if (page === this.page) {\n        a.classList.add('is-current');\n      }\n\n      a.onclick = (event) => this._pageClickedEvent(this, event);\n\n      a.title = 'Open Page #' + this.page;\n      const linkText = document.createTextNode(page.toString());\n      a.appendChild(linkText);\n      li.appendChild(a);\n\n      return li;\n    }\n\n    /**\n     * Page-Button has been clicked\n     * @param {VetproviehPager} pager\n     * @param {Event} event\n     * @private\n     */\n    _pageClickedEvent(pager: VetproviehPager, event: Event) {\n      pager.page = parseInt((event.target as HTMLLIElement).innerText);\n      pager.dispatchEvent(new Event('change'));\n    }\n\n    /**\n     * Connected Callback\n     */\n    connectedCallback() {\n      // Lazy creation of shadowRoot.\n      if (!this.shadowRoot) {\n        this.attachShadow({\n          mode: 'open',\n        }).innerHTML = this.template;\n      }\n      this.render();\n    }\n\n    /**\n     * @private\n     */\n    render() {\n      if (this.shadowRoot) {\n        super.render();\n        const pager = this.getByIdFromShadowRoot('pager') as HTMLElement;\n        pager.innerHTML = '';\n        this.renderPages();\n      }\n    }\n}"],"names":[],"mappings":"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"}